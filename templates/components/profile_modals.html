<!-- Modal Editar Perfil -->
<div id="editModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3 class="modal-title">Editar Perfil</h3>
            <button class="close" onclick="ProfileModule.closeModal('editModal')">&times;</button>
        </div>
        
        <form id="editForm" method="post" action="{% url 'update_profile' %}" class="dess-form">
            {% csrf_token %}
            <div class="dess-form-group">
                <label class="dess-form-label dess-required" for="email">Email</label>
                <input type="email" class="dess-form-control" id="email" name="email" value="{{ profile.email }}" required>
                <div id="email-feedback" class="dess-form-feedback"></div>
            </div>
            
            <div class="dess-form-group">
                <label class="dess-form-label dess-required" for="full_name">Nombre Completo</label>
                <input type="text" class="dess-form-control" id="full_name" name="full_name" value="{{ profile.full_name }}" required>
            </div>
            
            <div class="d-flex gap-2 justify-content-end">
                <button type="button" class="dess-btn dess-btn-secondary" onclick="ProfileModule.closeModal('editModal')">Cancelar</button>
                <button type="submit" class="dess-btn dess-btn-primary" id="saveProfileBtn">
                    <span class="btn-text">Guardar Cambios</span>
                    <span class="loading" style="display: none;"></span>
                </button>
            </div>
        </form>
    </div>
</div>

<!-- Modal Cambiar Contraseña -->
<div id="passwordModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3 class="modal-title">Cambiar Contraseña</h3>
            <button class="close" onclick="ProfileModule.closeModal('passwordModal')">&times;</button>
        </div>
        
        <form id="passwordForm" method="post" action="{% url 'change_password' %}" class="dess-form">
            {% csrf_token %}
            <div class="dess-form-group">
                <label class="dess-form-label dess-required" for="current_password">Contraseña Actual</label>
                <input type="password" class="dess-form-control" id="current_password" name="current_password" required>
            </div>
            
            <div class="dess-form-group">
                <label class="dess-form-label dess-required" for="new_password">Nueva Contraseña</label>
                <input type="password" class="dess-form-control" id="new_password" name="new_password" required>
                <div class="dess-form-help">Mínimo 8 caracteres</div>
            </div>
            
            <div class="dess-form-group">
                <label class="dess-form-label dess-required" for="confirm_password">Confirmar Nueva Contraseña</label>
                <input type="password" class="dess-form-control" id="confirm_password" name="confirm_password" required>
                <div id="password-feedback" class="dess-form-feedback"></div>
            </div>
            
            <div class="d-flex gap-2 justify-content-end">
                <button type="button" class="dess-btn dess-btn-secondary" onclick="ProfileModule.closeModal('passwordModal')">Cancelar</button>
                <button type="submit" class="dess-btn dess-btn-primary" id="savePasswordBtn">
                    <span class="btn-text">Cambiar Contraseña</span>
                    <span class="loading" style="display: none;"></span>
                </button>
            </div>
        </form>
    </div>
</div>
